<div class="f5-configuration">
  <div class="clr-row">
    <div class="clr-col-lg-12 clr-col-12">
       <div class="card top-row">
          <div class="card-block">
             <h5 class="card-title"> {{ dictionary.readyPageConfigMigrationTitle }} </h5>
             <div class="card-text card-progress-text">
                <clr-progress-bar class="progress-bar" clrSuccess clrValue="{{ migrationOverviewData?.migration?.config?.completedPercent }}"></clr-progress-bar>
                <div class="no-wrap ml-12"> {{ migrationOverviewData?.migration?.config?.completedPercent }} % completed</div>
             </div>
             <div>
                <span class="badge badge-blue"></span> {{ dictionary.readyPageReviewedTitle }} {{ migrationOverviewData?.migration?.config?.reviewed }}
                <span class="badge ml-12"></span> {{ dictionary.readyPageIncompleteTitle }}  {{ migrationOverviewData?.migration?.config?.incomplete }}
             </div>
          </div>
       </div>
    </div>
  </div>

    <div class="f5-configuration__cards">
        <div class="clr-row">
            <div class="clr-col-lg-6 clr-col-sm-6 clr-col-12">
              <next-conversion-card
                [selectedMigrationData]="incompleteVSMigrationsData[selectedMigrationIndex]"
                (onSkip)="handleSkip()"
                (onStart)="handleStart()"
              ></next-conversion-card>
            </div>
            <div class="clr-col-lg-6 clr-col-sm-6 clr-col-12">
              <lab-controller-card
                [labControllerDetails]="labControllerDetails"
                (onEdit)="handleLabControllerCardEdit()"
                (onFetch)="handleLabControllerCardFetch()"
              ></lab-controller-card>
            </div>
          </div>
    </div>
    <div class="f5-configuration__grid">
        <incomplete-migrations-grid
            [incompleteMigrationsData]="incompleteVSMigrationsData"
            [isOpenVsConfigEditorModal]="isOpenVsConfigEditorModal"
            [selectedMigrationIndex]="selectedMigrationIndex"
            (onCloseVsConfigEditor)="handleCloseVsConfigEditor()"
        ></incomplete-migrations-grid>
    </div>

    <div class="f5-configuration__alert-section" *ngIf="configurationTabService.showCompletedMigrationsCountAlert">
      <clr-alert [clrAlertType]="'success'" (clrAlertClosedChange)="onAlertClose()">
          <clr-alert-item>
              <span class="alert-text">
                <span class="f5-configuration__alert-header">{{ dictionary.convertedLabel }} {{ completedVSMigrationsCount }} {{ dictionary.completedMigrationsAlertHeader }}</span>
                <span class="f5-configuration__alert-body">{{ dictionary.completedMigrationsAlertMessage }}</span>
              </span>
          </clr-alert-item>
      </clr-alert>
  </div>
</div>

<edit-lab-controller-modal
  *ngIf="openEditControllerConfig"
  (onClose)="handleCloseLabControllerEditModal($event)"
></edit-lab-controller-modal>
